var SHAREDSTATE=function(t){"use strict";function e(){let t;return[new Promise(((e,s)=>{t=e})),t]}const s=4;class n{constructor(t,e={}){this._url=t,this._ws,this._connecting=!1,this._connected=!1,this._options=e,this._retries=0,this._connect_promise_resolvers=[]}get connecting(){return this._connecting}get connected(){return this._connected}get url(){return this._url}get options(){return this._options}connect(){this.connecting||this.connected?console.log("Connect while connecting or connected"):this._is_terminated()?console.log("Terminated"):(this._ws=new WebSocket(this._url),this._connecting=!0,this._ws.onopen=t=>this._on_open(t),this._ws.onmessage=t=>this.on_message(t.data),this._ws.onclose=t=>this._on_close(t),this._ws.onerror=t=>this.on_error(t),this.on_connecting())}_on_open(t){this._connecting=!1,this._connected=!0;for(const t of this._connect_promise_resolvers)t();this._connect_promise_resolvers=[],this._retries=0,this.on_connect()}_on_close(t){this._connecting=!1,this._connected=!1,this.on_disconnect(t),this._retries+=1,this._is_terminated()||setTimeout((()=>{this.connect()}),1e3*this._retries)}_is_terminated(){const{retries:t=s}=this._options;return this._retries>=t&&(console.log(`Terminated: Max retries reached (${t})`),this._connecting=!1,this._connected=!0,this._ws.onopen=void 0,this._ws.onmessage=void 0,this._ws.onclose=void 0,this._ws.onerror=void 0,this._ws=void 0,!0)}on_connecting(){const{debug:t=!1}=this._options;t&&console.log(`Connecting ${this.url}`)}on_connect(){console.log(`Connect  ${this.url}`)}on_error(t){const{debug:e=!1}=this._options;e&&console.log(`Error: ${t}`)}on_disconnect(t){console.error(`Disconnect ${this.url}`)}on_message(t){const{debug:e=!1}=this._options;e&&console.log(`Receive: ${t}`)}send(t){if(this._connected)try{this._ws.send(t)}catch(t){console.error(`Send fail: ${t}`)}else console.log("Send drop : not connected")}connectedPromise(){const[t,s]=e();return this.connected?s():this._connect_promise_resolvers.push(s),t}}class i{constructor(t,e){this._ssclient=t,this._path=e,this._handlers=[],this._map=new Map}_ssclient_update(t={}){const{remove:e,insert:s,reset:n=!1}=t,i=new Map;if(n){for(const t of this._map.values())i.set(t.id,{id:t.id,new:void 0,old:t});this._map=new Map}else for(const t of e){const e=this._map.get(t);null!=e&&(this._map.delete(t),i.set(t,{id:t,new:void 0,old:e}))}for(const t of s){const e=t.id,s=i.get(e),n=null!=s?s.old:this._map.get(e);this._map.set(e,t),i.set(e,{id:e,new:t,old:n})}this._notify_callbacks([...i.values()])}_notify_callbacks(t){this._handlers.forEach((function(e){e.handler(t)}))}get_items(){return[...this._map.values()]}get size(){return this._map.size}get_item(t){return this._map.get(t)}has_item(t){return this._map.has(t)}update(t={}){return this._ssclient.update(this._path,t)}add_callback(t){const e={handler:t};return this._handlers.push(e),e}remove_callback(t){const e=this._handlers.indexOf(t);e>-1&&this._handlers.splice(e,1)}}const o=Object.freeze({MESSAGE:"MESSAGE",REQUEST:"REQUEST",REPLY:"REPLY"}),r=Object.freeze({GET:"GET",PUT:"PUT",NOTIFY:"NOTIFY"});function _(t){const{id:e,itv:s,data:n}=t;let i=JSON.stringify(n);return`\n        <div>\n            <button id="delete">X</button>\n            ${`<span class="id">${e}</span>`}: ${`<span class="itv">${null!=s?JSON.stringify(s):""}</span>`} ${`<span class="data">${i}</span>`}\n        </div>`}return t.DatasetViewer=class{constructor(t,e,s={}){this._ds=t,this._elem=e,this._ds.add_callback(this._onchange.bind(this));let n={delete:!1,toString:_};this._options={...n,...s},this._options.delete&&e.addEventListener("click",(t=>{const e=t.target.closest("#delete");if(e){const s=e.closest(".list-item");s&&(this._ds.update({remove:[s.id]}),t.stopPropagation())}}))}_onchange(t){const{toString:e}=this._options;for(let s of t)if(s.new){let t=this._elem.querySelector(`#${s.id}`);null==t&&(t=document.createElement("div"),t.setAttribute("id",s.id),t.classList.add("list-item"),this._elem.appendChild(t)),t.innerHTML=e(s.new)}else if(s.old){let t=this._elem.querySelector(`#${s.id}`);t&&t.parentNode.removeChild(t)}}},t.SharedStateClient=class extends n{constructor(t,e){super(t,e),this._reqid=0,this._pending=new Map,this._subs_map=new Map,this._ds_map=new Map,this._ds_handle_map=new Map}on_connect(){if(console.log(`Connect  ${this.url}`),this._subs_map.size>0){const t=[...this._subs_map.entries()];this.update("/subs",{insert:t,reset:!0})}}on_disconnect(){console.error(`Disconnect ${this.url}`)}on_error(t){const{debug:e=!1}=this._options;e&&console.log(`Communication Error: ${t}`)}on_message(t){let e=JSON.parse(t);if(e.type==o.REPLY){let t=e.tunnel;if(this._pending.has(t)){let s=this._pending.get(t);this._pending.delete(t);const{ok:n,data:i}=e;s({ok:n,data:i})}}else e.type==o.MESSAGE&&e.cmd==r.NOTIFY&&this._handle_notify(e)}_handle_notify(t){const e=this._ds_map.get(t.path);null!=e&&e._ssclient_update(t.data)}_request(t,s,n){const i=this._reqid++,_={type:o.REQUEST,cmd:t,path:s,arg:n,tunnel:i};this.send(JSON.stringify(_));let[c,h]=e();return this._pending.set(i,h),c.then((({ok:e,data:n})=>(t==r.PUT&&"/subs"==s&&e&&(this._subs_map=new Map(n)),{ok:e,path:s,data:n})))}_sub(t){if(this.connected){new Map([...this._subs_map]).set(t,{});const e=[...this._subs_map.entries()];return this.update("/subs",{insert:e,reset:!0})}return this._subs_map.set(t,{}),Promise.resolve({ok:!0,path:t,data:void 0})}_unsub(t){const e=new Map([...this._subs_map]);e.delete(t);const s=[...e.entries()];return this.update("/subs",{insert:s,reset:!0})}get(t){return this._request(r.GET,t)}update(t,e){return this._request(r.PUT,t,e)}acquire(t){this._subs_map.has(t)||this._sub(t),this._ds_map.has(t)||this._ds_map.set(t,new i(this,t));const e=this._ds_map.get(t),s={path:t};return this._ds_handle_map.has(t)||this._ds_handle_map.set(t,[]),this._ds_handle_map.get(t).push(s),[s,e]}release(t){const e=t.path,s=this._ds_handle_map.get(e);if(null==s)return;const n=s.indexOf(t);n>-1&&s.splice(n,1),0==s.length&&(this._unsub(e),this._ds_map.delete(e))}},t}({});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2hhcmVkc3RhdGUuaWlmZS5taW4uanMiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9jbGllbnQvdXRpbC5qcyIsIi4uLy4uL3NyYy9jbGllbnQvd3Npby5qcyIsIi4uLy4uL3NyYy9jbGllbnQvZGF0YXNldC5qcyIsIi4uLy4uL3NyYy9jbGllbnQvc3NfY2xpZW50LmpzIiwiLi4vLi4vc3JjL2NsaWVudC92aWV3ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbiAgICBDcmVhdGUgYSBwcm9taXNlIHdoaWNoIGNhbiBiZSByZXNvbHZlZFxuICAgIHByb2dyYW1tYXRpY2FsbHkgYnkgZXh0ZXJuYWwgY29kZS5cbiAgICBSZXR1cm4gYSBwcm9taXNlIGFuZCBhIHJlc29sdmUgZnVuY3Rpb25cbiovXG5cbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZhYmxlUHJvbWlzZSgpIHtcbiAgICBsZXQgcmVzb2x2ZXI7XG4gICAgbGV0IHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIHJlc29sdmVyID0gcmVzb2x2ZTtcbiAgICB9KTtcbiAgICByZXR1cm4gW3Byb21pc2UsIHJlc29sdmVyXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRpbWVvdXRQcm9taXNlIChtcykge1xuICAgIGxldCByZXNvbHZlcjtcbiAgICBsZXQgcHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgbGV0IHRpZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgcmVzb2x2ZSh0cnVlKTtcbiAgICAgICAgfSwgbXMpO1xuICAgICAgICByZXNvbHZlciA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aWQpIHtcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc29sdmUoZmFsc2UpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIFtwcm9taXNlLCByZXNvbHZlcl07XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIHJhbmRvbV9zdHJpbmcobGVuZ3RoKSB7XG4gICAgdmFyIHRleHQgPSBcIlwiO1xuICAgIHZhciBwb3NzaWJsZSA9IFwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5elwiO1xuICAgIGZvcih2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICB0ZXh0ICs9IHBvc3NpYmxlLmNoYXJBdChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBwb3NzaWJsZS5sZW5ndGgpKTtcbiAgICB9XG4gICAgcmV0dXJuIHRleHQ7XG59IiwiaW1wb3J0IHsgcmVzb2x2YWJsZVByb21pc2UgfSBmcm9tIFwiLi91dGlsLmpzXCI7XG5cbmNvbnN0IE1BWF9SRVRSSUVTID0gNDtcblxuZXhwb3J0IGNsYXNzIFdlYlNvY2tldElPIHtcblxuICAgIGNvbnN0cnVjdG9yKHVybCwgb3B0aW9ucz17fSkge1xuICAgICAgICB0aGlzLl91cmwgPSB1cmw7XG4gICAgICAgIHRoaXMuX3dzO1xuICAgICAgICB0aGlzLl9jb25uZWN0aW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2Nvbm5lY3RlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgdGhpcy5fcmV0cmllcyA9IDA7XG4gICAgICAgIHRoaXMuX2Nvbm5lY3RfcHJvbWlzZV9yZXNvbHZlcnMgPSBbXTtcbiAgICB9XG5cbiAgICBnZXQgY29ubmVjdGluZygpIHtyZXR1cm4gdGhpcy5fY29ubmVjdGluZzt9XG4gICAgZ2V0IGNvbm5lY3RlZCgpIHtyZXR1cm4gdGhpcy5fY29ubmVjdGVkO31cbiAgICBnZXQgdXJsKCkge3JldHVybiB0aGlzLl91cmw7fVxuICAgIGdldCBvcHRpb25zKCkge3JldHVybiB0aGlzLl9vcHRpb25zO31cblxuICAgIGNvbm5lY3QoKSB7XG5cbiAgICAgICAgaWYgKHRoaXMuY29ubmVjdGluZyB8fCB0aGlzLmNvbm5lY3RlZCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJDb25uZWN0IHdoaWxlIGNvbm5lY3Rpbmcgb3IgY29ubmVjdGVkXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9pc190ZXJtaW5hdGVkKCkpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVGVybWluYXRlZFwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNvbm5lY3RpbmdcbiAgICAgICAgdGhpcy5fd3MgPSBuZXcgV2ViU29ja2V0KHRoaXMuX3VybCk7XG4gICAgICAgIHRoaXMuX2Nvbm5lY3RpbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLl93cy5vbm9wZW4gPSBlID0+IHRoaXMuX29uX29wZW4oZSk7XG4gICAgICAgIHRoaXMuX3dzLm9ubWVzc2FnZSA9IGUgPT4gdGhpcy5vbl9tZXNzYWdlKGUuZGF0YSk7XG4gICAgICAgIHRoaXMuX3dzLm9uY2xvc2UgPSBlID0+IHRoaXMuX29uX2Nsb3NlKGUpO1xuICAgICAgICB0aGlzLl93cy5vbmVycm9yID0gZSA9PiB0aGlzLm9uX2Vycm9yKGUpO1xuICAgICAgICB0aGlzLm9uX2Nvbm5lY3RpbmcoKTtcbiAgICB9XG5cbiAgICBfb25fb3BlbihldmVudCkge1xuICAgICAgICB0aGlzLl9jb25uZWN0aW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2Nvbm5lY3RlZCA9IHRydWU7XG4gICAgICAgIC8vIHJlbGVhc2UgY29ubmVjdCBwcm9taXNlc1xuICAgICAgICBmb3IgKGNvbnN0IHJlc29sdmVyIG9mIHRoaXMuX2Nvbm5lY3RfcHJvbWlzZV9yZXNvbHZlcnMpIHtcbiAgICAgICAgICAgIHJlc29sdmVyKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fY29ubmVjdF9wcm9taXNlX3Jlc29sdmVycyA9IFtdO1xuICAgICAgICAvLyByZXNldCByZXRyaWVzIG9uIHN1Y2Nlc3NmdWwgY29ubmVjdGlvblxuICAgICAgICB0aGlzLl9yZXRyaWVzID0gMDtcbiAgICAgICAgdGhpcy5vbl9jb25uZWN0KCk7XG4gICAgfVxuXG4gICAgX29uX2Nsb3NlKGV2ZW50KSB7XG4gICAgICAgIHRoaXMuX2Nvbm5lY3RpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fY29ubmVjdGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMub25fZGlzY29ubmVjdChldmVudCk7XG4gICAgICAgIHRoaXMuX3JldHJpZXMgKz0gMTtcbiAgICAgICAgaWYgKCF0aGlzLl9pc190ZXJtaW5hdGVkKCkpIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdCgpO1xuICAgICAgICAgICAgfSwgMTAwMCAqIHRoaXMuX3JldHJpZXMpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIF9pc190ZXJtaW5hdGVkKCkge1xuICAgICAgICBjb25zdCB7cmV0cmllcz1NQVhfUkVUUklFU30gPSB0aGlzLl9vcHRpb25zO1xuICAgICAgICBpZiAodGhpcy5fcmV0cmllcyA+PSByZXRyaWVzKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgVGVybWluYXRlZDogTWF4IHJldHJpZXMgcmVhY2hlZCAoJHtyZXRyaWVzfSlgKTtcbiAgICAgICAgICAgIHRoaXMuX2Nvbm5lY3RpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuX2Nvbm5lY3RlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl93cy5vbm9wZW4gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB0aGlzLl93cy5vbm1lc3NhZ2UgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB0aGlzLl93cy5vbmNsb3NlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgdGhpcy5fd3Mub25lcnJvciA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHRoaXMuX3dzID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIG9uX2Nvbm5lY3RpbmcoKSB7XG4gICAgICAgIGNvbnN0IHtkZWJ1Zz1mYWxzZX0gPSB0aGlzLl9vcHRpb25zO1xuICAgICAgICBpZiAoZGVidWcpIHtjb25zb2xlLmxvZyhgQ29ubmVjdGluZyAke3RoaXMudXJsfWApO31cbiAgICB9XG4gICAgb25fY29ubmVjdCgpIHtcbiAgICAgICAgY29uc29sZS5sb2coYENvbm5lY3QgICR7dGhpcy51cmx9YCk7XG4gICAgfVxuICAgIG9uX2Vycm9yKGVycm9yKSB7XG4gICAgICAgIGNvbnN0IHtkZWJ1Zz1mYWxzZX0gPSB0aGlzLl9vcHRpb25zO1xuICAgICAgICBpZiAoZGVidWcpIHtjb25zb2xlLmxvZyhgRXJyb3I6ICR7ZXJyb3J9YCk7fVxuICAgIH1cbiAgICBvbl9kaXNjb25uZWN0KGV2ZW50KSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYERpc2Nvbm5lY3QgJHt0aGlzLnVybH1gKTtcbiAgICB9XG4gICAgb25fbWVzc2FnZShkYXRhKSB7XG4gICAgICAgIGNvbnN0IHtkZWJ1Zz1mYWxzZX0gPSB0aGlzLl9vcHRpb25zO1xuICAgICAgICBpZiAoZGVidWcpIHtjb25zb2xlLmxvZyhgUmVjZWl2ZTogJHtkYXRhfWApO31cbiAgICB9XG5cbiAgICBzZW5kKGRhdGEpIHtcbiAgICAgICAgaWYgKHRoaXMuX2Nvbm5lY3RlZCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB0aGlzLl93cy5zZW5kKGRhdGEpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBTZW5kIGZhaWw6ICR7ZXJyb3J9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgU2VuZCBkcm9wIDogbm90IGNvbm5lY3RlZGApXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb25uZWN0ZWRQcm9taXNlKCkge1xuICAgICAgICBjb25zdCBbcHJvbWlzZSwgcmVzb2x2ZXJdID0gcmVzb2x2YWJsZVByb21pc2UoKTtcbiAgICAgICAgaWYgKHRoaXMuY29ubmVjdGVkKSB7XG4gICAgICAgICAgICByZXNvbHZlcigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fY29ubmVjdF9wcm9taXNlX3Jlc29sdmVycy5wdXNoKHJlc29sdmVyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9XG59XG5cblxuIiwiZXhwb3J0IGNsYXNzIERhdGFzZXQge1xuXG4gICAgY29uc3RydWN0b3Ioc3NjbGllbnQsIHBhdGgpIHtcbiAgICAgICAgLy8gc2hhcmVkc3RhdGUgY2xpZW50XG4gICAgICAgIHRoaXMuX3NzY2xpZW50ID0gc3NjbGllbnQ7XG4gICAgICAgIHRoaXMuX3BhdGggPSBwYXRoO1xuICAgICAgICAvLyBjYWxsYmFja3NcbiAgICAgICAgdGhpcy5faGFuZGxlcnMgPSBbXTtcbiAgICAgICAgLy8gaXRlbXNcbiAgICAgICAgdGhpcy5fbWFwID0gbmV3IE1hcCgpO1xuICAgIH1cblxuICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICAgICAgU0hBUkVEIFNUQVRFIENMSUVOVCBBUElcbiAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gICAgLyoqXG4gICAgICogc2VydmVyIHVwZGF0ZSBkYXRhc2V0IFxuICAgICAqL1xuICAgIF9zc2NsaWVudF91cGRhdGUgKGNoYW5nZXM9e30pIHtcblxuICAgICAgICBjb25zdCB7cmVtb3ZlLCBpbnNlcnQsIHJlc2V0PWZhbHNlfSA9IGNoYW5nZXM7XG4gICAgICAgIGNvbnN0IGRpZmZfbWFwID0gbmV3IE1hcCgpO1xuXG4gICAgICAgIC8vIHJlbW92ZSBpdGVtcyAtIGNyZWF0ZSBkaWZmXG4gICAgICAgIGlmIChyZXNldCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIHRoaXMuX21hcC52YWx1ZXMoKSkge1xuICAgICAgICAgICAgICAgIGRpZmZfbWFwLnNldChcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5pZCwgXG4gICAgICAgICAgICAgICAgICAgIHtpZDogaXRlbS5pZCwgbmV3OnVuZGVmaW5lZCwgb2xkOml0ZW19XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX21hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgX2lkIG9mIHJlbW92ZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9sZCA9IHRoaXMuX21hcC5nZXQoX2lkKTtcbiAgICAgICAgICAgICAgICBpZiAob2xkICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9tYXAuZGVsZXRlKF9pZCk7XG4gICAgICAgICAgICAgICAgICAgIGRpZmZfbWFwLnNldChfaWQsIHtpZDpfaWQsIG5ldzp1bmRlZmluZWQsIG9sZH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGluc2VydCBpdGVtcyAtIHVwZGF0ZSBkaWZmXG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBpbnNlcnQpIHtcbiAgICAgICAgICAgIGNvbnN0IF9pZCA9IGl0ZW0uaWQ7XG4gICAgICAgICAgICAvLyBvbGQgZnJvbSBkaWZmX21hcCBvciBfbWFwXG4gICAgICAgICAgICBjb25zdCBkaWZmID0gZGlmZl9tYXAuZ2V0KF9pZCk7XG4gICAgICAgICAgICBjb25zdCBvbGQgPSAoZGlmZiAhPSB1bmRlZmluZWQpID8gZGlmZi5vbGQgOiB0aGlzLl9tYXAuZ2V0KF9pZCk7XG4gICAgICAgICAgICAvLyBzZXQgc3RhdGVcbiAgICAgICAgICAgIHRoaXMuX21hcC5zZXQoX2lkLCBpdGVtKTtcbiAgICAgICAgICAgIC8vIHVwZGF0ZSBkaWZmIG1hcFxuICAgICAgICAgICAgZGlmZl9tYXAuc2V0KF9pZCwge2lkOl9pZCwgbmV3Oml0ZW0sIG9sZH0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX25vdGlmeV9jYWxsYmFja3MoWy4uLmRpZmZfbWFwLnZhbHVlcygpXSk7XG4gICAgfVxuXG4gICAgX25vdGlmeV9jYWxsYmFja3MgKGVBcmcpIHtcbiAgICAgICAgdGhpcy5faGFuZGxlcnMuZm9yRWFjaChmdW5jdGlvbihoYW5kbGUpIHtcbiAgICAgICAgICAgIGhhbmRsZS5oYW5kbGVyKGVBcmcpO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgICAgICBBUFBMSUNBVElPTiBBUElcbiAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gICAgLyoqXG4gICAgICogYXBwbGljYXRpb24gcmVxdWVzdGluZyBpdGVtc1xuICAgICAqL1xuICAgIGdldF9pdGVtcygpIHtcbiAgICAgICAgcmV0dXJuIFsuLi50aGlzLl9tYXAudmFsdWVzKCldO1xuICAgIH07XG4gICAgZ2V0IHNpemUoKSB7cmV0dXJuIHRoaXMuX21hcC5zaXplfTtcbiAgICBnZXRfaXRlbSAoaWQpIHtyZXR1cm4gdGhpcy5fbWFwLmdldChpZCl9IFxuICAgIGhhc19pdGVtKGlkKSB7cmV0dXJuIHRoaXMuX21hcC5oYXMoaWQpfVxuXG4gICAgLyoqXG4gICAgICogYXBwbGljYXRpb24gZGlzcGF0Y2hpbmcgdXBkYXRlIHRvIHNlcnZlclxuICAgICAqL1xuICAgIHVwZGF0ZSAoY2hhbmdlcz17fSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3NjbGllbnQudXBkYXRlKHRoaXMuX3BhdGgsIGNoYW5nZXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGFwcGxpY2F0aW9uIHJlZ2lzdGVyIGNhbGxiYWNrXG4gICAgKi9cbiAgICBhZGRfY2FsbGJhY2sgKGhhbmRsZXIpIHtcbiAgICAgICAgY29uc3QgaGFuZGxlID0ge2hhbmRsZXJ9O1xuICAgICAgICB0aGlzLl9oYW5kbGVycy5wdXNoKGhhbmRsZSk7XG4gICAgICAgIHJldHVybiBoYW5kbGU7XG4gICAgfTsgICAgXG4gICAgcmVtb3ZlX2NhbGxiYWNrIChoYW5kbGUpIHtcbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLl9oYW5kbGVycy5pbmRleE9mKGhhbmRsZSk7XG4gICAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgfTsgICAgXG59IiwiaW1wb3J0IHsgV2ViU29ja2V0SU8gfSBmcm9tIFwiLi93c2lvLmpzXCI7XG5pbXBvcnQgeyByZXNvbHZhYmxlUHJvbWlzZSB9IGZyb20gXCIuL3V0aWwuanNcIjtcbmltcG9ydCB7IERhdGFzZXQgfSBmcm9tIFwiLi9kYXRhc2V0LmpzXCI7XG5cbmNvbnN0IE1zZ1R5cGUgPSBPYmplY3QuZnJlZXplKHtcbiAgICBNRVNTQUdFIDogXCJNRVNTQUdFXCIsXG4gICAgUkVRVUVTVDogXCJSRVFVRVNUXCIsXG4gICAgUkVQTFk6IFwiUkVQTFlcIlxuIH0pO1xuIFxuY29uc3QgTXNnQ21kID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgR0VUIDogXCJHRVRcIixcbiAgICBQVVQ6IFwiUFVUXCIsXG4gICAgTk9USUZZOiBcIk5PVElGWVwiXG59KTtcblxuXG5leHBvcnQgY2xhc3MgU2hhcmVkU3RhdGVDbGllbnQgZXh0ZW5kcyBXZWJTb2NrZXRJTyB7XG5cbiAgICBjb25zdHJ1Y3RvciAodXJsLCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKHVybCwgb3B0aW9ucyk7XG5cbiAgICAgICAgLy8gcmVxdWVzdHNcbiAgICAgICAgdGhpcy5fcmVxaWQgPSAwO1xuICAgICAgICB0aGlzLl9wZW5kaW5nID0gbmV3IE1hcCgpO1xuXG4gICAgICAgIC8vIHN1YnNjcmlwdGlvbnNcbiAgICAgICAgLy8gcGF0aCAtPiB7fSBcbiAgICAgICAgdGhpcy5fc3Vic19tYXAgPSBuZXcgTWFwKCk7XG5cbiAgICAgICAgLy8gZGF0YXNldHNcbiAgICAgICAgLy8gcGF0aCAtPiBkc1xuICAgICAgICB0aGlzLl9kc19tYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuX2RzX2hhbmRsZV9tYXAgPSBuZXcgTWFwKCk7XG4gICAgfVxuXG4gICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgICAgICBDT05ORUNUSU9OIFxuICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuICAgIG9uX2Nvbm5lY3QoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBDb25uZWN0ICAke3RoaXMudXJsfWApO1xuICAgICAgICAvLyByZWZyZXNoIGxvY2FsIHN1c2NyaXB0aW9uc1xuICAgICAgICBpZiAodGhpcy5fc3Vic19tYXAuc2l6ZSA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1zID0gWy4uLnRoaXMuX3N1YnNfbWFwLmVudHJpZXMoKV07XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZShcIi9zdWJzXCIsIHtpbnNlcnQ6aXRlbXMsIHJlc2V0OnRydWV9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvbl9kaXNjb25uZWN0KCkge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBEaXNjb25uZWN0ICR7dGhpcy51cmx9YCk7XG4gICAgfVxuICAgIG9uX2Vycm9yKGVycm9yKSB7XG4gICAgICAgIGNvbnN0IHtkZWJ1Zz1mYWxzZX0gPSB0aGlzLl9vcHRpb25zO1xuICAgICAgICBpZiAoZGVidWcpIHtjb25zb2xlLmxvZyhgQ29tbXVuaWNhdGlvbiBFcnJvcjogJHtlcnJvcn1gKTt9XG4gICAgfVxuXG4gICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgICAgICBIQU5ETEVSU1xuICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuICAgIG9uX21lc3NhZ2UoZGF0YSkge1xuICAgICAgICBsZXQgbXNnID0gSlNPTi5wYXJzZShkYXRhKTtcbiAgICAgICAgaWYgKG1zZy50eXBlID09IE1zZ1R5cGUuUkVQTFkpIHtcbiAgICAgICAgICAgIGxldCByZXFpZCA9IG1zZy50dW5uZWw7XG4gICAgICAgICAgICBpZiAodGhpcy5fcGVuZGluZy5oYXMocmVxaWQpKSB7XG4gICAgICAgICAgICAgICAgbGV0IHJlc29sdmVyID0gdGhpcy5fcGVuZGluZy5nZXQocmVxaWQpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3BlbmRpbmcuZGVsZXRlKHJlcWlkKTtcbiAgICAgICAgICAgICAgICBjb25zdCB7b2ssIGRhdGF9ID0gbXNnO1xuICAgICAgICAgICAgICAgIHJlc29sdmVyKHtvaywgZGF0YX0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKG1zZy50eXBlID09IE1zZ1R5cGUuTUVTU0FHRSkge1xuICAgICAgICAgICAgaWYgKG1zZy5jbWQgPT0gTXNnQ21kLk5PVElGWSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2hhbmRsZV9ub3RpZnkobXNnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9oYW5kbGVfbm90aWZ5KG1zZykge1xuICAgICAgICAvLyB1cGRhdGUgZGF0YXNldCBzdGF0ZVxuICAgICAgICBjb25zdCBkcyA9IHRoaXMuX2RzX21hcC5nZXQobXNnW1wicGF0aFwiXSk7XG4gICAgICAgIGlmIChkcyAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGRzLl9zc2NsaWVudF91cGRhdGUobXNnW1wiZGF0YVwiXSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgICAgIFNFUlZFUiBSRVFVRVNUU1xuICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuICAgIF9yZXF1ZXN0KGNtZCwgcGF0aCwgYXJnKSB7XG4gICAgICAgIGNvbnN0IHJlcWlkID0gdGhpcy5fcmVxaWQrKztcbiAgICAgICAgY29uc3QgbXNnID0ge1xuICAgICAgICAgICAgdHlwZTogTXNnVHlwZS5SRVFVRVNULFxuICAgICAgICAgICAgY21kLCBcbiAgICAgICAgICAgIHBhdGgsIFxuICAgICAgICAgICAgYXJnLFxuICAgICAgICAgICAgdHVubmVsOiByZXFpZFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnNlbmQoSlNPTi5zdHJpbmdpZnkobXNnKSk7XG4gICAgICAgIGxldCBbcHJvbWlzZSwgcmVzb2x2ZXJdID0gcmVzb2x2YWJsZVByb21pc2UoKTtcbiAgICAgICAgdGhpcy5fcGVuZGluZy5zZXQocmVxaWQsIHJlc29sdmVyKTtcbiAgICAgICAgcmV0dXJuIHByb21pc2UudGhlbigoe29rLCBkYXRhfSkgPT4ge1xuICAgICAgICAgICAgLy8gc3BlY2lhbCBoYW5kbGluZyBmb3IgcmVwbGllcyB0byBQVVQgL3N1YnNcbiAgICAgICAgICAgIGlmIChjbWQgPT0gTXNnQ21kLlBVVCAmJiBwYXRoID09IFwiL3N1YnNcIiAmJiBvaykge1xuICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSBsb2NhbCBzdWJzY3JpcHRpb24gc3RhdGVcbiAgICAgICAgICAgICAgICB0aGlzLl9zdWJzX21hcCA9IG5ldyBNYXAoZGF0YSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7b2ssIHBhdGgsIGRhdGF9O1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBfc3ViIChwYXRoKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3RlZCkge1xuICAgICAgICAgICAgLy8gY29weSBjdXJyZW50IHN0YXRlIG9mIHN1YnNcbiAgICAgICAgICAgIGNvbnN0IHN1YnNfbWFwID0gbmV3IE1hcChbLi4udGhpcy5fc3Vic19tYXBdKTtcbiAgICAgICAgICAgIC8vIHNldCBuZXcgcGF0aFxuICAgICAgICAgICAgc3Vic19tYXAuc2V0KHBhdGgsIHt9KTtcbiAgICAgICAgICAgIC8vIHJlc2V0IHN1YnMgb24gc2VydmVyXG4gICAgICAgICAgICBjb25zdCBpdGVtcyA9IFsuLi50aGlzLl9zdWJzX21hcC5lbnRyaWVzKCldO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudXBkYXRlKFwiL3N1YnNcIiwge2luc2VydDppdGVtcywgcmVzZXQ6dHJ1ZX0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gdXBkYXRlIGxvY2FsIHN1YnMgLSBzdWJzY3JpYmUgb24gcmVjb25uZWN0XG4gICAgICAgICAgICB0aGlzLl9zdWJzX21hcC5zZXQocGF0aCwge30pO1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7b2s6IHRydWUsIHBhdGgsIGRhdGE6dW5kZWZpbmVkfSlcbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgX3Vuc3ViIChwYXRoKSB7XG4gICAgICAgIC8vIGNvcHkgY3VycmVudCBzdGF0ZSBvZiBzdWJzXG4gICAgICAgIGNvbnN0IHN1YnNfbWFwID0gbmV3IE1hcChbLi4udGhpcy5fc3Vic19tYXBdKTtcbiAgICAgICAgLy8gcmVtb3ZlIHBhdGhcbiAgICAgICAgc3Vic19tYXAuZGVsZXRlKHBhdGgpXG4gICAgICAgIC8vIHJlc2V0IHN1YnMgb24gc2VydmVyXG4gICAgICAgIGNvbnN0IGl0ZW1zID0gWy4uLnN1YnNfbWFwLmVudHJpZXMoKV07XG4gICAgICAgIHJldHVybiB0aGlzLnVwZGF0ZShcIi9zdWJzXCIsIHtpbnNlcnQ6aXRlbXMsIHJlc2V0OnRydWV9KTtcbiAgICB9XG5cbiAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgICAgIEFQSVxuICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuICAgIGdldChwYXRoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KE1zZ0NtZC5HRVQsIHBhdGgpO1xuICAgIH1cbiAgICBcbiAgICB1cGRhdGUocGF0aCwgY2hhbmdlcykge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVxdWVzdChNc2dDbWQuUFVULCBwYXRoLCBjaGFuZ2VzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBhY3F1aXJlIGRhdGFzZXQgZm9yIHBhdGhcbiAgICAgKiAtIGF1dG9tYXRpY2FsbHkgc3Vic2NyaWJlcyB0byBwYXRoIGlmIG5lZWRlZFxuICAgICAqIHJldHVybnMgaGFuZGxlIGFuZCBkYXRhc2V0XG4gICAgICogaGFuZGxlIHVzZWQgdG8gcmVsZWFzZSBkYXRhc2V0XG4gICAgICovXG5cbiAgICBhY3F1aXJlIChwYXRoKSB7XG4gICAgICAgIC8vIHN1YnNjcmliZSBpZiBub3QgZXhpc3RzXG4gICAgICAgIGlmICghdGhpcy5fc3Vic19tYXAuaGFzKHBhdGgpKSB7XG4gICAgICAgICAgICAvLyBzdWJzY3JpYmUgdG8gcGF0aFxuICAgICAgICAgICAgdGhpcy5fc3ViKHBhdGgpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNyZWF0ZSBkYXRhc2V0IGlmIG5vdCBleGlzdHNcbiAgICAgICAgaWYgKCF0aGlzLl9kc19tYXAuaGFzKHBhdGgpKSB7XG4gICAgICAgICAgICB0aGlzLl9kc19tYXAuc2V0KHBhdGgsIG5ldyBEYXRhc2V0KHRoaXMsIHBhdGgpKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkcyA9IHRoaXMuX2RzX21hcC5nZXQocGF0aCk7XG4gICAgICAgIC8vIGNyZWF0ZSBoYW5kbGUgZm9yIHBhdGhcbiAgICAgICAgY29uc3QgaGFuZGxlID0ge3BhdGh9O1xuICAgICAgICBpZiAoIXRoaXMuX2RzX2hhbmRsZV9tYXAuaGFzKHBhdGgpKSB7XG4gICAgICAgICAgICB0aGlzLl9kc19oYW5kbGVfbWFwLnNldChwYXRoLCBbXSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZHNfaGFuZGxlX21hcC5nZXQocGF0aCkucHVzaChoYW5kbGUpO1xuICAgICAgICByZXR1cm4gW2hhbmRsZSwgZHNdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHJlbGVhc2UgZGF0YXNldCBieSBoYW5kbGVcbiAgICAgKiAtIGF1dG9tYXRpY2FsbHkgdW5zdWJzY3JpYmUgaWYgYWxsIGhhbmRsZXMgaGF2ZSBiZWVuIHJlbGVhc2VkXG4gICAgICovXG5cbiAgICByZWxlYXNlIChoYW5kbGUpIHtcbiAgICAgICAgY29uc3QgcGF0aCA9IGhhbmRsZS5wYXRoO1xuICAgICAgICBjb25zdCBoYW5kbGVzID0gdGhpcy5fZHNfaGFuZGxlX21hcC5nZXQocGF0aCk7XG4gICAgICAgIGlmIChoYW5kbGVzID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIHJlbW92ZSBoYW5kbGVcbiAgICAgICAgY29uc3QgaW5kZXggPSBoYW5kbGVzLmluZGV4T2YoaGFuZGxlKTtcbiAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgIGhhbmRsZXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBjbGVhbiB1cCBpZiBsYXN0IGhhbmRsZSByZWxlYXNlZFxuICAgICAgICBpZiAoaGFuZGxlcy5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgdGhpcy5fdW5zdWIocGF0aCk7XG4gICAgICAgICAgICAvLyBjbGVhci9kaXNhYmxlIGRhdGFzZXRcbiAgICAgICAgICAgIC8vIGNvbnN0IGRzID0gdGhpcy5fZHNfbWFwLmdldChwYXRoKTtcbiAgICAgICAgICAgIHRoaXMuX2RzX21hcC5kZWxldGUocGF0aCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cblxuIiwiLypcbiAgICBEYXRhc2V0IFZpZXdlclxuKi9cblxuZnVuY3Rpb24gaXRlbTJzdHJpbmcoaXRlbSkge1xuICAgIGNvbnN0IHtpZCwgaXR2LCBkYXRhfSA9IGl0ZW07XG4gICAgbGV0IGRhdGFfdHh0ID0gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XG4gICAgbGV0IGl0dl90eHQgPSAoaXR2ICE9IHVuZGVmaW5lZCkgPyBKU09OLnN0cmluZ2lmeShpdHYpIDogXCJcIjtcbiAgICBsZXQgaWRfaHRtbCA9IGA8c3BhbiBjbGFzcz1cImlkXCI+JHtpZH08L3NwYW4+YDtcbiAgICBsZXQgaXR2X2h0bWwgPSBgPHNwYW4gY2xhc3M9XCJpdHZcIj4ke2l0dl90eHR9PC9zcGFuPmA7XG4gICAgbGV0IGRhdGFfaHRtbCA9IGA8c3BhbiBjbGFzcz1cImRhdGFcIj4ke2RhdGFfdHh0fTwvc3Bhbj5gO1xuICAgIHJldHVybiBgXG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwiZGVsZXRlXCI+WDwvYnV0dG9uPlxuICAgICAgICAgICAgJHtpZF9odG1sfTogJHtpdHZfaHRtbH0gJHtkYXRhX2h0bWx9XG4gICAgICAgIDwvZGl2PmA7XG59XG5cblxuZXhwb3J0IGNsYXNzIERhdGFzZXRWaWV3ZXIge1xuXG4gICAgY29uc3RydWN0b3IoZGF0YXNldCwgZWxlbSwgb3B0aW9ucz17fSkge1xuICAgICAgICB0aGlzLl9kcyA9IGRhdGFzZXQ7XG4gICAgICAgIHRoaXMuX2VsZW0gPSBlbGVtO1xuICAgICAgICBjb25zdCBoYW5kbGUgPSB0aGlzLl9kcy5hZGRfY2FsbGJhY2sodGhpcy5fb25jaGFuZ2UuYmluZCh0aGlzKSk7IFxuXG4gICAgICAgIC8vIG9wdGlvbnNcbiAgICAgICAgbGV0IGRlZmF1bHRzID0ge1xuICAgICAgICAgICAgZGVsZXRlOmZhbHNlLFxuICAgICAgICAgICAgdG9TdHJpbmc6aXRlbTJzdHJpbmdcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fb3B0aW9ucyA9IHsuLi5kZWZhdWx0cywgLi4ub3B0aW9uc307XG5cbiAgICAgICAgLypcbiAgICAgICAgICAgIFN1cHBvcnQgZGVsZXRlXG4gICAgICAgICovXG4gICAgICAgIGlmICh0aGlzLl9vcHRpb25zLmRlbGV0ZSkge1xuICAgICAgICAgICAgLy8gbGlzdGVuIGZvciBjbGljayBldmVudHMgb24gcm9vdCBlbGVtZW50XG4gICAgICAgICAgICBlbGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIGNhdGNoIGNsaWNrIGV2ZW50IGZyb20gZGVsZXRlIGJ1dHRvblxuICAgICAgICAgICAgICAgIGNvbnN0IGRlbGV0ZUJ0biA9IGUudGFyZ2V0LmNsb3Nlc3QoXCIjZGVsZXRlXCIpO1xuICAgICAgICAgICAgICAgIGlmIChkZWxldGVCdG4pIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGlzdEl0ZW0gPSBkZWxldGVCdG4uY2xvc2VzdChcIi5saXN0LWl0ZW1cIik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsaXN0SXRlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZHMudXBkYXRlKHtyZW1vdmU6W2xpc3RJdGVtLmlkXX0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX29uY2hhbmdlKGRpZmZzKSB7XG4gICAgICAgIGNvbnN0IHt0b1N0cmluZ30gPSB0aGlzLl9vcHRpb25zO1xuICAgICAgICBmb3IgKGxldCBkaWZmIG9mIGRpZmZzKSB7XG4gICAgICAgICAgICBpZiAoZGlmZi5uZXcpIHtcbiAgICAgICAgICAgICAgICAvLyBhZGRcbiAgICAgICAgICAgICAgICBsZXQgbm9kZSA9IHRoaXMuX2VsZW0ucXVlcnlTZWxlY3RvcihgIyR7ZGlmZi5pZH1gKTtcbiAgICAgICAgICAgICAgICBpZiAobm9kZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgICAgICAgICBub2RlLnNldEF0dHJpYnV0ZShcImlkXCIsIGRpZmYuaWQpO1xuICAgICAgICAgICAgICAgICAgICBub2RlLmNsYXNzTGlzdC5hZGQoXCJsaXN0LWl0ZW1cIik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2VsZW0uYXBwZW5kQ2hpbGQobm9kZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG5vZGUuaW5uZXJIVE1MID0gdG9TdHJpbmcoZGlmZi5uZXcpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChkaWZmLm9sZCkge1xuICAgICAgICAgICAgICAgIC8vIHJlbW92ZVxuICAgICAgICAgICAgICAgIGxldCBub2RlID0gdGhpcy5fZWxlbS5xdWVyeVNlbGVjdG9yKGAjJHtkaWZmLmlkfWApO1xuICAgICAgICAgICAgICAgIGlmIChub2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2RlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4iXSwibmFtZXMiOlsicmVzb2x2YWJsZVByb21pc2UiLCJyZXNvbHZlciIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiTUFYX1JFVFJJRVMiLCJXZWJTb2NrZXRJTyIsImNvbnN0cnVjdG9yIiwidXJsIiwib3B0aW9ucyIsInRoaXMiLCJfdXJsIiwiX3dzIiwiX2Nvbm5lY3RpbmciLCJfY29ubmVjdGVkIiwiX29wdGlvbnMiLCJfcmV0cmllcyIsIl9jb25uZWN0X3Byb21pc2VfcmVzb2x2ZXJzIiwiY29ubmVjdGluZyIsImNvbm5lY3RlZCIsImNvbm5lY3QiLCJjb25zb2xlIiwibG9nIiwiX2lzX3Rlcm1pbmF0ZWQiLCJXZWJTb2NrZXQiLCJvbm9wZW4iLCJlIiwiX29uX29wZW4iLCJvbm1lc3NhZ2UiLCJvbl9tZXNzYWdlIiwiZGF0YSIsIm9uY2xvc2UiLCJfb25fY2xvc2UiLCJvbmVycm9yIiwib25fZXJyb3IiLCJvbl9jb25uZWN0aW5nIiwiZXZlbnQiLCJvbl9jb25uZWN0Iiwib25fZGlzY29ubmVjdCIsInNldFRpbWVvdXQiLCJyZXRyaWVzIiwidW5kZWZpbmVkIiwiZGVidWciLCJlcnJvciIsInNlbmQiLCJjb25uZWN0ZWRQcm9taXNlIiwicHJvbWlzZSIsInB1c2giLCJEYXRhc2V0Iiwic3NjbGllbnQiLCJwYXRoIiwiX3NzY2xpZW50IiwiX3BhdGgiLCJfaGFuZGxlcnMiLCJfbWFwIiwiTWFwIiwiX3NzY2xpZW50X3VwZGF0ZSIsImNoYW5nZXMiLCJyZW1vdmUiLCJpbnNlcnQiLCJyZXNldCIsImRpZmZfbWFwIiwiaXRlbSIsInZhbHVlcyIsInNldCIsImlkIiwibmV3Iiwib2xkIiwiX2lkIiwiZ2V0IiwiZGVsZXRlIiwiZGlmZiIsIl9ub3RpZnlfY2FsbGJhY2tzIiwiZUFyZyIsImZvckVhY2giLCJoYW5kbGUiLCJoYW5kbGVyIiwiZ2V0X2l0ZW1zIiwic2l6ZSIsImdldF9pdGVtIiwiaGFzX2l0ZW0iLCJoYXMiLCJ1cGRhdGUiLCJhZGRfY2FsbGJhY2siLCJyZW1vdmVfY2FsbGJhY2siLCJpbmRleCIsImluZGV4T2YiLCJzcGxpY2UiLCJNc2dUeXBlIiwiT2JqZWN0IiwiZnJlZXplIiwiTUVTU0FHRSIsIlJFUVVFU1QiLCJSRVBMWSIsIk1zZ0NtZCIsIkdFVCIsIlBVVCIsIk5PVElGWSIsIml0ZW0yc3RyaW5nIiwiaXR2IiwiZGF0YV90eHQiLCJKU09OIiwic3RyaW5naWZ5IiwiZGF0YXNldCIsImVsZW0iLCJfZHMiLCJfZWxlbSIsIl9vbmNoYW5nZSIsImJpbmQiLCJkZWZhdWx0cyIsInRvU3RyaW5nIiwiYWRkRXZlbnRMaXN0ZW5lciIsImRlbGV0ZUJ0biIsInRhcmdldCIsImNsb3Nlc3QiLCJsaXN0SXRlbSIsInN0b3BQcm9wYWdhdGlvbiIsImRpZmZzIiwibm9kZSIsInF1ZXJ5U2VsZWN0b3IiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJjbGFzc0xpc3QiLCJhZGQiLCJhcHBlbmRDaGlsZCIsImlubmVySFRNTCIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsInN1cGVyIiwiX3JlcWlkIiwiX3BlbmRpbmciLCJfc3Vic19tYXAiLCJfZHNfbWFwIiwiX2RzX2hhbmRsZV9tYXAiLCJpdGVtcyIsImVudHJpZXMiLCJtc2ciLCJwYXJzZSIsInR5cGUiLCJyZXFpZCIsInR1bm5lbCIsIm9rIiwiY21kIiwiX2hhbmRsZV9ub3RpZnkiLCJkcyIsIl9yZXF1ZXN0IiwiYXJnIiwidGhlbiIsIl9zdWIiLCJfdW5zdWIiLCJzdWJzX21hcCIsImFjcXVpcmUiLCJyZWxlYXNlIiwiaGFuZGxlcyIsImxlbmd0aCJdLCJtYXBwaW5ncyI6InlDQU1PLFNBQVNBLElBQ1osSUFBSUMsRUFJSixNQUFPLENBSE8sSUFBSUMsU0FBUSxDQUFDQyxFQUFTQyxLQUNoQ0gsRUFBV0UsQ0FBTyxJQUVMRixFQUNyQixDQ1ZBLE1BQU1JLEVBQWMsRUFFYixNQUFNQyxFQUVULFdBQUFDLENBQVlDLEVBQUtDLEVBQVEsSUFDckJDLEtBQUtDLEtBQU9ILEVBQ1pFLEtBQUtFLElBQ0xGLEtBQUtHLGFBQWMsRUFDbkJILEtBQUtJLFlBQWEsRUFDbEJKLEtBQUtLLFNBQVdOLEVBQ2hCQyxLQUFLTSxTQUFXLEVBQ2hCTixLQUFLTywyQkFBNkIsRUFDMUMsQ0FFSSxjQUFJQyxHQUFjLE9BQU9SLEtBQUtHLFdBQVksQ0FDMUMsYUFBSU0sR0FBYSxPQUFPVCxLQUFLSSxVQUFXLENBQ3hDLE9BQUlOLEdBQU8sT0FBT0UsS0FBS0MsSUFBSyxDQUM1QixXQUFJRixHQUFXLE9BQU9DLEtBQUtLLFFBQVMsQ0FFcEMsT0FBQUssR0FFUVYsS0FBS1EsWUFBY1IsS0FBS1MsVUFDeEJFLFFBQVFDLElBQUkseUNBR1paLEtBQUthLGlCQUNMRixRQUFRQyxJQUFJLGVBS2hCWixLQUFLRSxJQUFNLElBQUlZLFVBQVVkLEtBQUtDLE1BQzlCRCxLQUFLRyxhQUFjLEVBQ25CSCxLQUFLRSxJQUFJYSxPQUFTQyxHQUFLaEIsS0FBS2lCLFNBQVNELEdBQ3JDaEIsS0FBS0UsSUFBSWdCLFVBQVlGLEdBQUtoQixLQUFLbUIsV0FBV0gsRUFBRUksTUFDNUNwQixLQUFLRSxJQUFJbUIsUUFBVUwsR0FBS2hCLEtBQUtzQixVQUFVTixHQUN2Q2hCLEtBQUtFLElBQUlxQixRQUFVUCxHQUFLaEIsS0FBS3dCLFNBQVNSLEdBQ3RDaEIsS0FBS3lCLGdCQUNiLENBRUksUUFBQVIsQ0FBU1MsR0FDTDFCLEtBQUtHLGFBQWMsRUFDbkJILEtBQUtJLFlBQWEsRUFFbEIsSUFBSyxNQUFNYixLQUFZUyxLQUFLTywyQkFDeEJoQixJQUVKUyxLQUFLTywyQkFBNkIsR0FFbENQLEtBQUtNLFNBQVcsRUFDaEJOLEtBQUsyQixZQUNiLENBRUksU0FBQUwsQ0FBVUksR0FDTjFCLEtBQUtHLGFBQWMsRUFDbkJILEtBQUtJLFlBQWEsRUFDbEJKLEtBQUs0QixjQUFjRixHQUNuQjFCLEtBQUtNLFVBQVksRUFDWk4sS0FBS2Esa0JBQ05nQixZQUFXLEtBQ1A3QixLQUFLVSxTQUFTLEdBQ2YsSUFBT1YsS0FBS00sU0FFM0IsQ0FFSSxjQUFBTyxHQUNJLE1BQU1pQixRQUFDQSxFQUFRbkMsR0FBZUssS0FBS0ssU0FDbkMsT0FBSUwsS0FBS00sVUFBWXdCLElBQ2pCbkIsUUFBUUMsSUFBSSxvQ0FBb0NrQixNQUNoRDlCLEtBQUtHLGFBQWMsRUFDbkJILEtBQUtJLFlBQWEsRUFDbEJKLEtBQUtFLElBQUlhLFlBQVNnQixFQUNsQi9CLEtBQUtFLElBQUlnQixlQUFZYSxFQUNyQi9CLEtBQUtFLElBQUltQixhQUFVVSxFQUNuQi9CLEtBQUtFLElBQUlxQixhQUFVUSxFQUNuQi9CLEtBQUtFLFNBQU02QixHQUNKLEVBR25CLENBRUksYUFBQU4sR0FDSSxNQUFNTyxNQUFDQSxHQUFNLEdBQVNoQyxLQUFLSyxTQUN2QjJCLEdBQVFyQixRQUFRQyxJQUFJLGNBQWNaLEtBQUtGLE1BQ25ELENBQ0ksVUFBQTZCLEdBQ0loQixRQUFRQyxJQUFJLFlBQVlaLEtBQUtGLE1BQ3JDLENBQ0ksUUFBQTBCLENBQVNTLEdBQ0wsTUFBTUQsTUFBQ0EsR0FBTSxHQUFTaEMsS0FBS0ssU0FDdkIyQixHQUFRckIsUUFBUUMsSUFBSSxVQUFVcUIsSUFDMUMsQ0FDSSxhQUFBTCxDQUFjRixHQUNWZixRQUFRc0IsTUFBTSxjQUFjakMsS0FBS0YsTUFDekMsQ0FDSSxVQUFBcUIsQ0FBV0MsR0FDUCxNQUFNWSxNQUFDQSxHQUFNLEdBQVNoQyxLQUFLSyxTQUN2QjJCLEdBQVFyQixRQUFRQyxJQUFJLFlBQVlRLElBQzVDLENBRUksSUFBQWMsQ0FBS2QsR0FDRCxHQUFJcEIsS0FBS0ksV0FDTCxJQUNJSixLQUFLRSxJQUFJZ0MsS0FBS2QsRUFDakIsQ0FBQyxNQUFPYSxHQUNMdEIsUUFBUXNCLE1BQU0sY0FBY0EsSUFDNUMsTUFFWXRCLFFBQVFDLElBQUksNEJBRXhCLENBRUksZ0JBQUF1QixHQUNJLE1BQU9DLEVBQVM3QyxHQUFZRCxJQU01QixPQUxJVSxLQUFLUyxVQUNMbEIsSUFFQVMsS0FBS08sMkJBQTJCOEIsS0FBSzlDLEdBRWxDNkMsQ0FDZixFQzFITyxNQUFNRSxFQUVULFdBQUF6QyxDQUFZMEMsRUFBVUMsR0FFbEJ4QyxLQUFLeUMsVUFBWUYsRUFDakJ2QyxLQUFLMEMsTUFBUUYsRUFFYnhDLEtBQUsyQyxVQUFZLEdBRWpCM0MsS0FBSzRDLEtBQU8sSUFBSUMsR0FDeEIsQ0FTSSxnQkFBQUMsQ0FBa0JDLEVBQVEsSUFFdEIsTUFBTUMsT0FBQ0EsRUFBTUMsT0FBRUEsRUFBTUMsTUFBRUEsR0FBTSxHQUFTSCxFQUNoQ0ksRUFBVyxJQUFJTixJQUdyQixHQUFJSyxFQUFPLENBQ1AsSUFBSyxNQUFNRSxLQUFRcEQsS0FBSzRDLEtBQUtTLFNBQ3pCRixFQUFTRyxJQUNMRixFQUFLRyxHQUNMLENBQUNBLEdBQUlILEVBQUtHLEdBQUlDLFNBQUl6QixFQUFXMEIsSUFBSUwsSUFHekNwRCxLQUFLNEMsS0FBTyxJQUFJQyxHQUM1QixNQUNZLElBQUssTUFBTWEsS0FBT1YsRUFBUSxDQUN0QixNQUFNUyxFQUFNekQsS0FBSzRDLEtBQUtlLElBQUlELEdBQ2YzQixNQUFQMEIsSUFDQXpELEtBQUs0QyxLQUFLZ0IsT0FBT0YsR0FDakJQLEVBQVNHLElBQUlJLEVBQUssQ0FBQ0gsR0FBR0csRUFBS0YsU0FBSXpCLEVBQVcwQixRQUU5RCxDQUlRLElBQUssTUFBTUwsS0FBUUgsRUFBUSxDQUN2QixNQUFNUyxFQUFNTixFQUFLRyxHQUVYTSxFQUFPVixFQUFTUSxJQUFJRCxHQUNwQkQsRUFBZTFCLE1BQVI4QixFQUFxQkEsRUFBS0osSUFBTXpELEtBQUs0QyxLQUFLZSxJQUFJRCxHQUUzRDFELEtBQUs0QyxLQUFLVSxJQUFJSSxFQUFLTixHQUVuQkQsRUFBU0csSUFBSUksRUFBSyxDQUFDSCxHQUFHRyxFQUFLRixJQUFJSixFQUFNSyxPQUNqRCxDQUNRekQsS0FBSzhELGtCQUFrQixJQUFJWCxFQUFTRSxVQUM1QyxDQUVJLGlCQUFBUyxDQUFtQkMsR0FDZi9ELEtBQUsyQyxVQUFVcUIsU0FBUSxTQUFTQyxHQUM1QkEsRUFBT0MsUUFBUUgsRUFDM0IsR0FDSyxDQVNELFNBQUFJLEdBQ0ksTUFBTyxJQUFJbkUsS0FBSzRDLEtBQUtTLFNBQ3hCLENBQ0QsUUFBSWUsR0FBUSxPQUFPcEUsS0FBSzRDLEtBQUt3QixJQUFJLENBQ2pDLFFBQUFDLENBQVVkLEdBQUssT0FBT3ZELEtBQUs0QyxLQUFLZSxJQUFJSixFQUFHLENBQ3ZDLFFBQUFlLENBQVNmLEdBQUssT0FBT3ZELEtBQUs0QyxLQUFLMkIsSUFBSWhCLEVBQUcsQ0FLdEMsTUFBQWlCLENBQVF6QixFQUFRLElBQ1osT0FBTy9DLEtBQUt5QyxVQUFVK0IsT0FBT3hFLEtBQUswQyxNQUFPSyxFQUNqRCxDQUtJLFlBQUEwQixDQUFjUCxHQUNWLE1BQU1ELEVBQVMsQ0FBQ0MsV0FFaEIsT0FEQWxFLEtBQUsyQyxVQUFVTixLQUFLNEIsR0FDYkEsQ0FDVixDQUNELGVBQUFTLENBQWlCVCxHQUNiLE1BQU1VLEVBQVEzRSxLQUFLMkMsVUFBVWlDLFFBQVFYLEdBQ2pDVSxHQUFRLEdBQ1IzRSxLQUFLMkMsVUFBVWtDLE9BQU9GLEVBQU8sRUFFcEMsRUM3RkwsTUFBTUcsRUFBVUMsT0FBT0MsT0FBTyxDQUMxQkMsUUFBVSxVQUNWQyxRQUFTLFVBQ1RDLE1BQU8sVUFHTEMsRUFBU0wsT0FBT0MsT0FBTyxDQUN6QkssSUFBTSxNQUNOQyxJQUFLLE1BQ0xDLE9BQVEsV0NUWixTQUFTQyxFQUFZcEMsR0FDakIsTUFBTUcsR0FBQ0EsRUFBRWtDLElBQUVBLEVBQUdyRSxLQUFFQSxHQUFRZ0MsRUFDeEIsSUFBSXNDLEVBQVdDLEtBQUtDLFVBQVV4RSxHQUs5QixNQUFPLDRFQUhPLG9CQUFvQm1DLGVBQ25CLHFCQUZPeEIsTUFBUDBELEVBQW9CRSxLQUFLQyxVQUFVSCxHQUFPLGVBR3pDLHNCQUFzQkMsNEJBTTFDLHdCQUdPLE1BRUgsV0FBQTdGLENBQVlnRyxFQUFTQyxFQUFNL0YsRUFBUSxDQUFBLEdBQy9CQyxLQUFLK0YsSUFBTUYsRUFDWDdGLEtBQUtnRyxNQUFRRixFQUNFOUYsS0FBSytGLElBQUl0QixhQUFhekUsS0FBS2lHLFVBQVVDLEtBQUtsRyxPQUd6RCxJQUFJbUcsRUFBVyxDQUNYdkMsUUFBTyxFQUNQd0MsU0FBU1osR0FFYnhGLEtBQUtLLFNBQVcsSUFBSThGLEtBQWFwRyxHQUs3QkMsS0FBS0ssU0FBU3VELFFBRWRrQyxFQUFLTyxpQkFBaUIsU0FBVXJGLElBRTVCLE1BQU1zRixFQUFZdEYsRUFBRXVGLE9BQU9DLFFBQVEsV0FDbkMsR0FBSUYsRUFBVyxDQUNYLE1BQU1HLEVBQVdILEVBQVVFLFFBQVEsY0FDL0JDLElBQ0F6RyxLQUFLK0YsSUFBSXZCLE9BQU8sQ0FBQ3hCLE9BQU8sQ0FBQ3lELEVBQVNsRCxNQUNsQ3ZDLEVBQUUwRixrQkFFMUIsSUFHQSxDQUVJLFNBQUFULENBQVVVLEdBQ04sTUFBTVAsU0FBQ0EsR0FBWXBHLEtBQUtLLFNBQ3hCLElBQUssSUFBSXdELEtBQVE4QyxFQUNiLEdBQUk5QyxFQUFLTCxJQUFLLENBRVYsSUFBSW9ELEVBQU81RyxLQUFLZ0csTUFBTWEsY0FBYyxJQUFJaEQsRUFBS04sTUFDakMsTUFBUnFELElBQ0FBLEVBQU9FLFNBQVNDLGNBQWMsT0FDOUJILEVBQUtJLGFBQWEsS0FBTW5ELEVBQUtOLElBQzdCcUQsRUFBS0ssVUFBVUMsSUFBSSxhQUNuQmxILEtBQUtnRyxNQUFNbUIsWUFBWVAsSUFFM0JBLEVBQUtRLFVBQVloQixFQUFTdkMsRUFBS0wsSUFDL0MsTUFBbUIsR0FBSUssRUFBS0osSUFBSyxDQUVqQixJQUFJbUQsRUFBTzVHLEtBQUtnRyxNQUFNYSxjQUFjLElBQUloRCxFQUFLTixNQUN6Q3FELEdBQ0FBLEVBQUtTLFdBQVdDLFlBQVlWLEVBRWhELENBRUEsdUJEeERPLGNBQWdDaEgsRUFFbkMsV0FBQUMsQ0FBYUMsRUFBS0MsR0FDZHdILE1BQU16SCxFQUFLQyxHQUdYQyxLQUFLd0gsT0FBUyxFQUNkeEgsS0FBS3lILFNBQVcsSUFBSTVFLElBSXBCN0MsS0FBSzBILFVBQVksSUFBSTdFLElBSXJCN0MsS0FBSzJILFFBQVUsSUFBSTlFLElBQ25CN0MsS0FBSzRILGVBQWlCLElBQUkvRSxHQUNsQyxDQU1JLFVBQUFsQixHQUdJLEdBRkFoQixRQUFRQyxJQUFJLFlBQVlaLEtBQUtGLE9BRXpCRSxLQUFLMEgsVUFBVXRELEtBQU8sRUFBRyxDQUN6QixNQUFNeUQsRUFBUSxJQUFJN0gsS0FBSzBILFVBQVVJLFdBQ2pDOUgsS0FBS3dFLE9BQU8sUUFBUyxDQUFDdkIsT0FBTzRFLEVBQU8zRSxPQUFNLEdBQ3RELENBQ0EsQ0FDSSxhQUFBdEIsR0FDSWpCLFFBQVFzQixNQUFNLGNBQWNqQyxLQUFLRixNQUN6QyxDQUNJLFFBQUEwQixDQUFTUyxHQUNMLE1BQU1ELE1BQUNBLEdBQU0sR0FBU2hDLEtBQUtLLFNBQ3ZCMkIsR0FBUXJCLFFBQVFDLElBQUksd0JBQXdCcUIsSUFDeEQsQ0FNSSxVQUFBZCxDQUFXQyxHQUNQLElBQUkyRyxFQUFNcEMsS0FBS3FDLE1BQU01RyxHQUNyQixHQUFJMkcsRUFBSUUsTUFBUW5ELEVBQVFLLE1BQU8sQ0FDM0IsSUFBSStDLEVBQVFILEVBQUlJLE9BQ2hCLEdBQUluSSxLQUFLeUgsU0FBU2xELElBQUkyRCxHQUFRLENBQzFCLElBQUkzSSxFQUFXUyxLQUFLeUgsU0FBUzlELElBQUl1RSxHQUNqQ2xJLEtBQUt5SCxTQUFTN0QsT0FBT3NFLEdBQ3JCLE1BQU1FLEdBQUNBLEVBQUVoSCxLQUFFQSxHQUFRMkcsRUFDbkJ4SSxFQUFTLENBQUM2SSxLQUFJaEgsUUFDOUIsQ0FDUyxNQUFVMkcsRUFBSUUsTUFBUW5ELEVBQVFHLFNBQ3ZCOEMsRUFBSU0sS0FBT2pELEVBQU9HLFFBQ2xCdkYsS0FBS3NJLGVBQWVQLEVBR3BDLENBRUksY0FBQU8sQ0FBZVAsR0FFWCxNQUFNUSxFQUFLdkksS0FBSzJILFFBQVFoRSxJQUFJb0UsRUFBVSxNQUM1QmhHLE1BQU53RyxHQUNBQSxFQUFHekYsaUJBQWlCaUYsRUFBVSxLQUUxQyxDQU1JLFFBQUFTLENBQVNILEVBQUs3RixFQUFNaUcsR0FDaEIsTUFBTVAsRUFBUWxJLEtBQUt3SCxTQUNiTyxFQUFNLENBQ1JFLEtBQU1uRCxFQUFRSSxRQUNkbUQsTUFDQTdGLE9BQ0FpRyxNQUNBTixPQUFRRCxHQUVabEksS0FBS2tDLEtBQUt5RCxLQUFLQyxVQUFVbUMsSUFDekIsSUFBSzNGLEVBQVM3QyxHQUFZRCxJQUUxQixPQURBVSxLQUFLeUgsU0FBU25FLElBQUk0RSxFQUFPM0ksR0FDbEI2QyxFQUFRc0csTUFBSyxFQUFFTixLQUFJaEgsV0FFbEJpSCxHQUFPakQsRUFBT0UsS0FBZSxTQUFSOUMsR0FBbUI0RixJQUV4Q3BJLEtBQUswSCxVQUFZLElBQUk3RSxJQUFJekIsSUFFdEIsQ0FBQ2dILEtBQUk1RixPQUFNcEIsVUFFOUIsQ0FFSSxJQUFBdUgsQ0FBTW5HLEdBQ0YsR0FBSXhDLEtBQUtTLFVBQVcsQ0FFQyxJQUFJb0MsSUFBSSxJQUFJN0MsS0FBSzBILFlBRXpCcEUsSUFBSWQsRUFBTSxJQUVuQixNQUFNcUYsRUFBUSxJQUFJN0gsS0FBSzBILFVBQVVJLFdBQ2pDLE9BQU85SCxLQUFLd0UsT0FBTyxRQUFTLENBQUN2QixPQUFPNEUsRUFBTzNFLE9BQU0sR0FDN0QsQ0FHWSxPQURBbEQsS0FBSzBILFVBQVVwRSxJQUFJZCxFQUFNLENBQUEsR0FDbEJoRCxRQUFRQyxRQUFRLENBQUMySSxJQUFJLEVBQU01RixPQUFNcEIsVUFBS1csR0FHekQsQ0FFSSxNQUFBNkcsQ0FBUXBHLEdBRUosTUFBTXFHLEVBQVcsSUFBSWhHLElBQUksSUFBSTdDLEtBQUswSCxZQUVsQ21CLEVBQVNqRixPQUFPcEIsR0FFaEIsTUFBTXFGLEVBQVEsSUFBSWdCLEVBQVNmLFdBQzNCLE9BQU85SCxLQUFLd0UsT0FBTyxRQUFTLENBQUN2QixPQUFPNEUsRUFBTzNFLE9BQU0sR0FDekQsQ0FNSSxHQUFBUyxDQUFJbkIsR0FDQSxPQUFPeEMsS0FBS3dJLFNBQVNwRCxFQUFPQyxJQUFLN0MsRUFDekMsQ0FFSSxNQUFBZ0MsQ0FBT2hDLEVBQU1PLEdBQ1QsT0FBTy9DLEtBQUt3SSxTQUFTcEQsRUFBT0UsSUFBSzlDLEVBQU1PLEVBQy9DLENBU0ksT0FBQStGLENBQVN0RyxHQUVBeEMsS0FBSzBILFVBQVVuRCxJQUFJL0IsSUFFcEJ4QyxLQUFLMkksS0FBS25HLEdBR1R4QyxLQUFLMkgsUUFBUXBELElBQUkvQixJQUNsQnhDLEtBQUsySCxRQUFRckUsSUFBSWQsRUFBTSxJQUFJRixFQUFRdEMsS0FBTXdDLElBRTdDLE1BQU0rRixFQUFLdkksS0FBSzJILFFBQVFoRSxJQUFJbkIsR0FFdEJ5QixFQUFTLENBQUN6QixRQUtoQixPQUpLeEMsS0FBSzRILGVBQWVyRCxJQUFJL0IsSUFDekJ4QyxLQUFLNEgsZUFBZXRFLElBQUlkLEVBQU0sSUFFbEN4QyxLQUFLNEgsZUFBZWpFLElBQUluQixHQUFNSCxLQUFLNEIsR0FDNUIsQ0FBQ0EsRUFBUXNFLEVBQ3hCLENBT0ksT0FBQVEsQ0FBUzlFLEdBQ0wsTUFBTXpCLEVBQU95QixFQUFPekIsS0FDZHdHLEVBQVVoSixLQUFLNEgsZUFBZWpFLElBQUluQixHQUN4QyxHQUFlVCxNQUFYaUgsRUFDQSxPQUdKLE1BQU1yRSxFQUFRcUUsRUFBUXBFLFFBQVFYLEdBQzFCVSxHQUFRLEdBQ1JxRSxFQUFRbkUsT0FBT0YsRUFBTyxHQUdKLEdBQWxCcUUsRUFBUUMsU0FDUmpKLEtBQUs0SSxPQUFPcEcsR0FHWnhDLEtBQUsySCxRQUFRL0QsT0FBT3BCLEdBRWhDIn0=
